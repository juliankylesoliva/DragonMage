[gd_scene load_steps=12 format=4 uid="uid://o7vpo6ujq6jf"]

[ext_resource type="Script" path="res://Scripts/Utility Scripts/Room.gd" id="1_c0kqm"]
[ext_resource type="TileSet" uid="uid://dhwi7i1loa2pd" path="res://Sprites/Tiles/Test Tiles/TestTileSet.tres" id="2_yuf0h"]
[ext_resource type="PackedScene" uid="uid://vtyaphi47lrf" path="res://Scene Objects/Objects/Checkpoint.tscn" id="3_g1h8b"]
[ext_resource type="Script" path="res://Scripts/Utility Scripts/Trigger.gd" id="4_uhl8g"]
[ext_resource type="PackedScene" uid="uid://b21st3ctsljbd" path="res://Scene Objects/Bosses/TrainBoss.tscn" id="5_hhicy"]
[ext_resource type="PackedScene" uid="uid://b2a0ttqvejk51" path="res://Scene Objects/Objects/TemperDragonFruit.tscn" id="6_7bmlx"]
[ext_resource type="FontFile" uid="uid://blejgst41tdnl" path="res://PressStart2P.ttf" id="6_7jnoj"]
[ext_resource type="PackedScene" uid="uid://u5nios6kfqhs" path="res://Scene Objects/Objects/BossDragonFruitSpawner.tscn" id="7_gquf8"]
[ext_resource type="Texture2D" uid="uid://bnhmoys22ry7w" path="res://Sprites/Backgrounds/1_4_BG/RailwayBossRoomBG.png" id="8_hmofl"]
[ext_resource type="Texture2D" uid="uid://l308rgc0ckd3" path="res://Sprites/Backgrounds/1_4_BG/RailwayBossRoomGate.png" id="9_gv0rf"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_8txwp"]
size = Vector2(32, 384)

[node name="CH1_LV4_R12A" type="Node2D" node_paths=PackedStringArray("tilemap_list", "room_entrances")]
script = ExtResource("1_c0kqm")
tilemap_list = [NodePath("BoundaryCollisionTilemap"), NodePath("LevelCollisionTilemap")]
right_camera_limit = 1280
room_entrances = [NodePath("Entrance 0"), NodePath("Entrance 1")]

[node name="BoundaryCollisionTilemap" type="Node2D" parent="."]
z_index = 4

[node name="Intangible" type="TileMapLayer" parent="BoundaryCollisionTilemap"]
modulate = Color(1, 1, 1, 0)
z_index = -1
use_parent_material = true
tile_map_data = PackedByteArray("AAD//wAAAAADAAAAAAD//wMAAAADAAAAAAAQAPz/AAADAAAAAAARAPz/AAADAAAAAAASAPz/AAADAAAAAAATAPz/AAADAAAAAAAUAPz/AAADAAAAAAAVAPz/AAADAAAAAAAWAPz/AAADAAAAAAAXAPz/AAADAAAAAAAYAPz/AAADAAAAAAAQAP3/AAADAAAAAAAQAP7/AAADAAAAAAAQAP//AAADAAAAAAAPAAQAAAADAAAAAAAPAAUAAAADAAAAAAAPAAYAAAADAAAAAAAPAAcAAAADAAAAAAAPAAgAAAADAAAAAAAoAAMAAAADAAAAAAAoAAQAAAADAAAAAAAoAAUAAAADAAAAAAAoAAYAAAADAAAAAAAoAAcAAAADAAAAAAAoAAgAAAADAAAAAAAoAAkAAAADAAAAAAAhAPz/AAADAAAAAAAiAPz/AAADAAAAAAAjAPz/AAADAAAAAAAkAPz/AAADAAAAAAAlAPz/AAADAAAAAAAmAPz/AAADAAAAAAAnAPz/AAADAAAAAAAnAP3/AAADAAAAAAAnAP7/AAADAAAAAAAnAP//AAADAAAAAAAZAPz/AAADAAAAAAAaAPz/AAADAAAAAAAbAPz/AAADAAAAAAAcAPz/AAADAAAAAAAdAPz/AAADAAAAAAAeAPz/AAADAAAAAAAfAPz/AAADAAAAAAAgAPz/AAADAAAAAAD//wEAAAADAAAAAAD//wIAAAADAAAAAAA=")
tile_set = ExtResource("2_yuf0h")
rendering_quadrant_size = 32
metadata/Tag = "IntangibleWall"

[node name="LevelCollisionTilemap" type="Node2D" parent="."]
visibility_layer = 4
z_index = 3

[node name="Decoration" type="TileMapLayer" parent="LevelCollisionTilemap"]
use_parent_material = true
tile_map_data = PackedByteArray("AAAAAAkAEwAAAAQAAAABAAkAEwAAAAQAAAACAAkAEwAAAAQAAAADAAkAEwAAAAQAAAAEAAkAEwAAAAQAAAAFAAkAEwAAAAQAAAAGAAkAEwAAAAQAAAAHAAkAEwAAAAQAAAAIAAkAEwAAAAQAAAAJAAkAEwAAAAQAAAAKAAkAEwAAAAQAAAALAAkAEwAAAAQAAAAMAAkAEwAAAAQAAAANAAkAEwAAAAQAAAAOAAkAEwAAAAQAAAAPAAkAEwAAAAQAAAAQAAkAEwAAAAQAAAARAAkAEwAAAAQAAAASAAkAEwAAAAQAAAATAAkAEwAAAAQAAAAUAAkAEwAAAAQAAAAVAAkAEwAAAAQAAAAWAAkAEwAAAAQAAAAXAAkAEwAAAAQAAAAYAAkAEwAAAAQAAAAZAAkAEwAAAAQAAAAaAAkAEwAAAAQAAAAbAAkAEwAAAAQAAAAcAAkAEwAAAAQAAAAdAAkAEwAAAAQAAAAeAAkAEwAAAAQAAAAfAAkAEwAAAAQAAAAgAAkAEwAAAAQAAAAhAAkAEwAAAAQAAAAiAAkAEwAAAAQAAAAjAAkAEwAAAAQAAAAkAAkAEwAAAAQAAAAlAAkAEwAAAAQAAAAmAAkAEwAAAAQAAAAnAAkAEwAAAAQAAAAAAAMADgACAAMAAAABAAMADgACAAMAAAACAAMADgACAAMAAAADAAMADgACAAMAAAAEAAMADgACAAMAAAAFAAMADgACAAMAAAAGAAMADgACAAMAAAAHAAMADgACAAMAAAAIAAMADgACAAMAAAAJAAMADgACAAMAAAAKAAMADgACAAMAAAALAAMADgACAAMAAAAMAAMADgACAAMAAAANAAMADgACAAMAAAAOAAMADgACAAMAAAAPAAMADgACAAMAAAAQAAMADgADAAMAAAAAAAAADgACAAIAAAABAAAADgACAAIAAAACAAAADgACAAIAAAADAAAADgACAAIAAAAEAAAADgACAAIAAAAFAAAADgACAAIAAAAGAAAADgACAAIAAAAHAAAADgACAAIAAAAIAAAADgACAAIAAAAJAAAADgACAAIAAAAKAAAADgACAAIAAAALAAAADgACAAIAAAAMAAAADgACAAIAAAANAAAADgACAAIAAAAOAAAADgACAAIAAAAPAAAADgACAAIAAAAQAAAADgADAAIAAAAnAAAADgABAAEAAAAnAAEADgABAAEAAAAnAAIADgABAAEAAAAnAAMADgABAAIAAAATAAMADwADAAYAAAAUAAMADwADAAYAAAAVAAMADwADAAYAAAAWAAMADwADAAYAAAAbAAIADwADAAYAAAAcAAIADwADAAYAAAAhAAMADwADAAYAAAAiAAMADwADAAYAAAAjAAMADwADAAYAAAAkAAMADwADAAYAAAA=")
tile_set = ExtResource("2_yuf0h")
rendering_quadrant_size = 32

[node name="Background" type="TileMapLayer" parent="LevelCollisionTilemap"]
z_index = -1
use_parent_material = true
tile_map_data = PackedByteArray("AAAAAAEADgAEAAIAAAAAAAIADgAEAAIAAAABAAEADgAEAAIAAAABAAIADgAEAAIAAAACAAEADgAEAAIAAAACAAIADgAEAAIAAAADAAEADgAEAAIAAAADAAIADgAEAAIAAAAEAAEADgAEAAIAAAAEAAIADgAEAAIAAAAFAAEADgAEAAIAAAAFAAIADgAEAAIAAAAGAAEADgAEAAIAAAAGAAIADgAEAAIAAAAHAAEADgAEAAIAAAAHAAIADgAEAAIAAAAIAAEADgAEAAIAAAAIAAIADgAEAAIAAAAJAAEADgAEAAIAAAAJAAIADgAEAAIAAAAKAAEADgAEAAIAAAAKAAIADgAEAAIAAAALAAEADgAEAAIAAAALAAIADgAEAAIAAAAMAAEADgAEAAIAAAAMAAIADgAEAAIAAAANAAEADgAEAAIAAAANAAIADgAEAAIAAAAOAAEADgAEAAIAAAAOAAIADgAEAAIAAAAPAAEADgAEAAIAAAAPAAIADgAEAAIAAAAQAAEADgAEAAIAAAAQAAIADgAEAAIAAAAAAAcAEwAAAAEAAAAAAAgAEwAAAAIAAAABAAcAEwABAAEAAAABAAgAEwABAAIAAAACAAcAEwAAAAEAAAACAAgAEwAAAAIAAAADAAcAEwABAAEAAAADAAgAEwABAAIAAAAEAAcAEwAAAAEAAAAEAAgAEwAAAAIAAAAFAAcAEwABAAEAAAAFAAgAEwABAAIAAAAGAAcAEwAAAAEAAAAGAAgAEwAAAAIAAAAHAAcAEwABAAEAAAAHAAgAEwABAAIAAAAIAAcAEwAAAAEAAAAIAAgAEwAAAAIAAAAJAAcAEwABAAEAAAAJAAgAEwABAAIAAAAKAAcAEwAAAAEAAAAKAAgAEwAAAAIAAAALAAcAEwABAAEAAAALAAgAEwABAAIAAAAMAAcAEwAAAAEAAAAMAAgAEwAAAAIAAAANAAcAEwABAAEAAAANAAgAEwABAAIAAAAOAAcAEwAAAAEAAAAOAAgAEwAAAAIAAAAAAAQAEQADAAMAAAABAAQAEQADAAMAAAACAAQAEQADAAMAAAADAAQAEQADAAMAAAAEAAQAEQADAAMAAAAFAAQAEQADAAMAAAAGAAQAEQADAAMAAAAHAAQAEQADAAMAAAAIAAQAEQADAAMAAAAJAAQAEQADAAMAAAAKAAQAEQADAAMAAAALAAQAEQADAAMAAAAMAAQAEQADAAMAAAANAAQAEQADAAMAAAAOAAQAEQADAAMAAAAAAAUAEQAAAAIAAAAAAAYAEQAAAAIAAAABAAUAEQAAAAIAAAABAAYAEQAAAAIAAAACAAUAEQAAAAIAAAACAAYAEQAAAAIAAAADAAUAEQAAAAIAAAADAAYAEQAAAAIAAAAEAAUAEQAAAAIAAAAEAAYAEQAAAAIAAAAFAAUAEQAAAAIAAAAFAAYAEQAAAAIAAAAGAAUAEQAAAAIAAAAGAAYAEQAAAAIAAAAHAAUAEQAAAAIAAAAHAAYAEQAAAAIAAAAIAAUAEQAAAAIAAAAIAAYAEQAAAAIAAAAJAAUAEQAAAAIAAAAJAAYAEQAAAAIAAAAKAAUAEQAAAAIAAAAKAAYAEQAAAAIAAAALAAUAEQAAAAIAAAALAAYAEQAAAAIAAAAMAAUAEQAAAAIAAAAMAAYAEQAAAAIAAAANAAUAEQAAAAIAAAANAAYAEQAAAAIAAAAOAAUAEQAAAAIAAAAOAAYAEQAAAAIAAAAPAAQAEQADAAMAAAAPAAUAEQAAAAIAAAAPAAYAEQAAAAIAAAAPAAcAEwABAAEAAAAPAAgAEwABAAIAAAA=")
tile_set = ExtResource("2_yuf0h")

[node name="Background2" type="TileMapLayer" parent="LevelCollisionTilemap"]
z_index = -1
use_parent_material = true
tile_map_data = PackedByteArray("AAACAAQAEwAAAAAAAAAFAAQAEwACAAAAAAADAAQAEwABAAAAAAAEAAQAEwABAAAAAAAKAAQAEwAAAAAAAAALAAQAEwABAAAAAAAMAAQAEwABAAAAAAANAAQAEwACAAAAAAAAAAgAEwAAAAMAAAABAAgAEwAAAAMAAAACAAgAEwAAAAMAAAADAAgAEwAAAAMAAAAEAAgAEwAAAAMAAAAFAAgAEwAAAAMAAAAGAAgAEwAAAAMAAAAHAAgAEwAAAAMAAAAIAAgAEwAAAAMAAAAJAAgAEwAAAAMAAAAKAAgAEwAAAAMAAAALAAgAEwAAAAMAAAAMAAgAEwAAAAMAAAANAAgAEwAAAAMAAAAOAAgAEwAAAAMAAAAPAAgAEwAAAAMAAAAQAAgAEwAAAAMAAAARAAgAEwAAAAMAAAASAAgAEwAAAAMAAAATAAgAEwAAAAMAAAAUAAgAEwAAAAMAAAAVAAgAEwAAAAMAAAAWAAgAEwAAAAMAAAAXAAgAEwAAAAMAAAAYAAgAEwAAAAMAAAAZAAgAEwAAAAMAAAAaAAgAEwAAAAMAAAAbAAgAEwAAAAMAAAAcAAgAEwAAAAMAAAAdAAgAEwAAAAMAAAAeAAgAEwAAAAMAAAAfAAgAEwAAAAMAAAAgAAgAEwAAAAMAAAAhAAgAEwAAAAMAAAAiAAgAEwAAAAMAAAAjAAgAEwAAAAMAAAAkAAgAEwAAAAMAAAAlAAgAEwAAAAMAAAAmAAgAEwAAAAMAAAAnAAgAEwAAAAMAAAAAAAUAEwABAAMAAAABAAUAEwACAAMAAAACAAUAEwABAAMAAAADAAUAEwABAAQAAAAEAAUAEwABAAMAAAAFAAUAEwACAAMAAAAGAAUAEwABAAMAAAAHAAUAEwABAAQAAAAIAAUAEwABAAMAAAAJAAUAEwACAAMAAAAKAAUAEwABAAMAAAALAAUAEwABAAQAAAAMAAUAEwABAAMAAAANAAUAEwACAAMAAAAOAAUAEwABAAMAAAAPAAUAEwABAAQAAAA=")
tile_set = ExtResource("2_yuf0h")

[node name="Ground" type="TileMapLayer" parent="LevelCollisionTilemap"]
modulate = Color(0.0745098, 0.113725, 0.301961, 0)
z_index = -1
use_parent_material = true
tile_map_data = PackedByteArray("AAAAAAAAAAADAAAAAAABAAAAAAADAAAAAAACAAAAAAADAAAAAAADAAAAAAADAAAAAAAEAAAAAAADAAAAAAAFAAAAAAADAAAAAAAGAAAAAAADAAAAAAAHAAAAAAADAAAAAAAIAAAAAAADAAAAAAAJAAAAAAADAAAAAAAKAAAAAAADAAAAAAALAAAAAAADAAAAAAAMAAAAAAADAAAAAAANAAAAAAADAAAAAAAOAAAAAAADAAAAAAAPAAAAAAADAAAAAAAAAAMAAAADAAAAAAABAAMAAAADAAAAAAACAAMAAAADAAAAAAADAAMAAAADAAAAAAAEAAMAAAADAAAAAAAFAAMAAAADAAAAAAAGAAMAAAADAAAAAAAHAAMAAAADAAAAAAAIAAMAAAADAAAAAAAJAAMAAAADAAAAAAAKAAMAAAADAAAAAAALAAMAAAADAAAAAAAMAAMAAAADAAAAAAANAAMAAAADAAAAAAAOAAMAAAADAAAAAAAPAAMAAAADAAAAAAAQAAAAAAADAAAAAAAQAAMAAAADAAAAAAAfAAkAAAADAAAAAAALAAkAAAADAAAAAAAMAAkAAAADAAAAAAANAAkAAAADAAAAAAAOAAkAAAADAAAAAAAPAAkAAAADAAAAAAAQAAkAAAADAAAAAAARAAkAAAADAAAAAAASAAkAAAADAAAAAAATAAkAAAADAAAAAAAUAAkAAAADAAAAAAAVAAkAAAADAAAAAAAWAAkAAAADAAAAAAAXAAkAAAADAAAAAAAYAAkAAAADAAAAAAAZAAkAAAADAAAAAAAaAAkAAAADAAAAAAAbAAkAAAADAAAAAAAcAAkAAAADAAAAAAAdAAkAAAADAAAAAAAeAAkAAAADAAAAAAAAAAkAAAADAAAAAAABAAkAAAADAAAAAAACAAkAAAADAAAAAAADAAkAAAADAAAAAAAEAAkAAAADAAAAAAAFAAkAAAADAAAAAAAGAAkAAAADAAAAAAAHAAkAAAADAAAAAAAIAAkAAAADAAAAAAAJAAkAAAADAAAAAAAKAAkAAAADAAAAAAAnAAAAAAADAAAAAAAnAAEAAAADAAAAAAAnAAIAAAADAAAAAAAnAAMAAAADAAAAAAAgAAkAAAADAAAAAAAhAAkAAAADAAAAAAAiAAkAAAADAAAAAAAjAAkAAAADAAAAAAAkAAkAAAADAAAAAAAlAAkAAAADAAAAAAAmAAkAAAADAAAAAAAnAAkAAAADAAAAAAAWAAMAAAADAAAAAAAhAAMAAAADAAAAAAAiAAMAAAADAAAAAAAjAAMAAAADAAAAAAAUAAMAAAADAAAAAAAVAAMAAAADAAAAAAATAAMAAAADAAAAAAAkAAMAAAADAAAAAAAbAAIAAAADAAAAAAAcAAIAAAADAAAAAAA=")
tile_set = ExtResource("2_yuf0h")

[node name="Slopes" type="TileMapLayer" parent="LevelCollisionTilemap"]
modulate = Color(0.701961, 0.215686, 0.105882, 1)
z_index = -1
use_parent_material = true
tile_set = ExtResource("2_yuf0h")

[node name="BossRoomBoundaryTilemap" type="Node2D" parent="."]
z_index = 3

[node name="DecorationL" type="TileMapLayer" parent="BossRoomBoundaryTilemap"]
use_parent_material = true
tile_map_data = PackedByteArray("AAAQAAEABwAAAAAAAAAQAAIABwAAAAAAAAA=")
enabled = false
tile_set = ExtResource("2_yuf0h")
rendering_quadrant_size = 32

[node name="DecorationR" type="TileMapLayer" parent="BossRoomBoundaryTilemap"]
use_parent_material = true
enabled = false
tile_set = ExtResource("2_yuf0h")

[node name="CollisionL" type="TileMapLayer" parent="BossRoomBoundaryTilemap"]
modulate = Color(1, 1, 1, 0)
z_index = -1
use_parent_material = true
tile_map_data = PackedByteArray("AAA4AAUAAAADAAAAAAA4AAYAAAADAAAAAAA4AAcAAAADAAAAAAA4AAgAAAADAAAAAAD//wUAAAADAAAAAAD//wYAAAADAAAAAAD//wcAAAADAAAAAAD//wgAAAADAAAAAAAQAAEAAAADAAAAAAAQAAIAAAADAAAAAAA=")
enabled = false
tile_set = ExtResource("2_yuf0h")

[node name="CollisionR" type="TileMapLayer" parent="BossRoomBoundaryTilemap"]
modulate = Color(1, 1, 1, 0)
use_parent_material = true
enabled = false
tile_set = ExtResource("2_yuf0h")

[node name="Entrance 0" type="Node2D" parent="."]
position = Vector2(16, 64)

[node name="Entrance 1" type="Node2D" parent="."]
position = Vector2(896, 32)

[node name="Checkpoint" parent="." node_paths=PackedStringArray("room_origin") instance=ExtResource("3_g1h8b")]
position = Vector2(96, 64)
room_origin = NodePath("..")

[node name="BossTrigger" type="Area2D" parent="." node_paths=PackedStringArray("shape")]
position = Vector2(916, 96)
collision_layer = 0
collision_mask = 4
script = ExtResource("4_uhl8g")
shape = NodePath("CollisionShape2D")

[node name="CollisionShape2D" type="CollisionShape2D" parent="BossTrigger"]
shape = SubResource("RectangleShape2D_8txwp")

[node name="TrainBoss" parent="." node_paths=PackedStringArray("left_start_point", "right_start_point") instance=ExtResource("5_hhicy")]
position = Vector2(480, 208)
speed_override = 378.0
left_start_point = NodePath("../TrainStartPointL")
right_start_point = NodePath("../TrainStartPointR")

[node name="InsideWarp" parent="TrainBoss" index="2" node_paths=PackedStringArray("room_origin", "room_destination")]
room_origin = NodePath("../..")
room_destination = NodePath("../..")

[node name="RichTextLabel" type="RichTextLabel" parent="TrainBoss/TrainDoorOpen" index="0"]
clip_contents = false
offset_left = -64.0
offset_top = -56.0
offset_right = 64.0
offset_bottom = -40.0
theme_override_fonts/normal_font = ExtResource("6_7jnoj")
theme_override_font_sizes/normal_font_size = 16
bbcode_enabled = true
text = "[center]GET IN!"
scroll_active = false
shortcut_keys_enabled = false
deselect_on_focus_loss_enabled = false

[node name="TrainStartPointL" type="Node2D" parent="."]
position = Vector2(480, 208)

[node name="TrainStartPointR" type="Node2D" parent="."]
position = Vector2(1312, 208)

[node name="TemperDragonFruit" parent="." instance=ExtResource("6_7bmlx")]
position = Vector2(672, 64)
enable_respawning = false
start_despawned = true

[node name="TemperDragonFruit2" parent="." instance=ExtResource("6_7bmlx")]
position = Vector2(1120, 64)
enable_respawning = false
start_despawned = true

[node name="BossDragonFruitSpawner" parent="." node_paths=PackedStringArray("dragonfruits", "room_origin") instance=ExtResource("7_gquf8")]
dragonfruits = [NodePath("../TemperDragonFruit"), NodePath("../TemperDragonFruit2")]
room_origin = NodePath("..")
selection_type = 2

[node name="BossRoomBackground" type="Sprite2D" parent="."]
position = Vector2(896, 160)
texture = ExtResource("8_hmofl")

[node name="RailwayBossRoomGate" type="Sprite2D" parent="."]
visible = false
position = Vector2(896, 208)
texture = ExtResource("9_gv0rf")

[connection signal="room_deactivated" from="." to="TrainBoss" method="disable_train"]

[editable path="TrainBoss"]
[editable path="TrainBoss/InsideWarp"]
