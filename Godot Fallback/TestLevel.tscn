[gd_scene load_steps=10 format=3 uid="uid://ditx5iixwbmbo"]

[ext_resource type="Script" path="res://Scripts/Utility Scripts/Level.gd" id="1_bvv7n"]
[ext_resource type="PackedScene" uid="uid://q7ww8bbiiqqn" path="res://room.tscn" id="2_0d6c4"]
[ext_resource type="PackedScene" uid="uid://c6qw77ovfwgfs" path="res://Player.tscn" id="2_mjfj3"]
[ext_resource type="PackedScene" uid="uid://bdypi7w73c6kq" path="res://Scene Objects/UI/TemperMeterUI.tscn" id="3_vdeox"]
[ext_resource type="PackedScene" uid="uid://d1eef1xjuwf3b" path="res://Scene Objects/Misc/PauseMenu.tscn" id="5_y0ijk"]
[ext_resource type="PackedScene" uid="uid://8beel2odcuky" path="res://Scene Objects/Effects/ScreenFade.tscn" id="6_4w3ms"]
[ext_resource type="PackedScene" uid="uid://brhoroc2w6jwi" path="res://Scene Objects/UI/Textbox.tscn" id="7_2cvbd"]
[ext_resource type="PackedScene" uid="uid://btq4qla5fyq0n" path="res://Scene Objects/Misc/LevelMusicPlayer.tscn" id="8_c3bp0"]
[ext_resource type="PackedScene" uid="uid://bjeiexqfc7oht" path="res://Scene Objects/Misc/DefeatScreen.tscn" id="9_ujmm5"]

[node name="TestLevel" type="Node2D" node_paths=PackedStringArray("player_reference", "starting_room", "room_list")]
script = ExtResource("1_bvv7n")
level_index = 6
player_reference = NodePath("Player")
starting_room = NodePath("Room")
room_list = [NodePath("Room")]

[node name="Player" parent="." instance=ExtResource("2_mjfj3")]
position = Vector2(128, 224)

[node name="Camera" parent="Player/Hub" index="11" node_paths=PackedStringArray("player_cam")]
player_cam = NodePath("../../../Camera2D")

[node name="Camera2D" type="Camera2D" parent="."]
process_callback = 0
drag_left_margin = 0.0
drag_top_margin = 0.6
drag_right_margin = 0.0
editor_draw_limits = true
editor_draw_drag_margin = true

[node name="Room" parent="." instance=ExtResource("2_0d6c4")]
visibility_layer = 4

[node name="UI_Canvas" type="CanvasLayer" parent="."]

[node name="TemperMeterUI" parent="UI_Canvas" node_paths=PackedStringArray("player_node") instance=ExtResource("3_vdeox")]
position = Vector2(1, 8)
player_node = NodePath("../../Player")

[node name="PauseMenu" parent="UI_Canvas" node_paths=PackedStringArray("screen_fade") instance=ExtResource("5_y0ijk")]
screen_fade = NodePath("../ScreenFade")

[node name="ScreenFade" parent="UI_Canvas" instance=ExtResource("6_4w3ms")]
starting_fade_duration = 1.0

[node name="Textbox" parent="." node_paths=PackedStringArray("ui_canvas") instance=ExtResource("7_2cvbd")]
ui_canvas = NodePath("../UI_Canvas")

[node name="LevelMusicPlayer" parent="." instance=ExtResource("8_c3bp0")]

[node name="DefeatScreen" parent="." node_paths=PackedStringArray("screen_fade") instance=ExtResource("9_ujmm5")]
screen_fade = NodePath("../UI_Canvas/ScreenFade")

[connection signal="player_defeated" from="." to="UI_Canvas/TemperMeterUI" method="hide"]
[connection signal="player_defeated" from="." to="Textbox" method="hide_textbox"]
[connection signal="player_defeated" from="." to="LevelMusicPlayer" method="stop"]
[connection signal="player_defeated" from="." to="DefeatScreen" method="do_defeat_screen"]

[editable path="Player"]
