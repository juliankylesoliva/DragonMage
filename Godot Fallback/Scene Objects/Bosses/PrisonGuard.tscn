[gd_scene load_steps=16 format=3 uid="uid://dentdwi48jb2i"]

[ext_resource type="Script" path="res://Scripts/Boss/PrisonGuard/PrisonGuardBoss.gd" id="1_g1gba"]
[ext_resource type="Texture2D" uid="uid://pk7g70ysmn6" path="res://Sprites/Enemies/GreenDragoon.png" id="2_2vm33"]
[ext_resource type="Script" path="res://Scripts/Boss/BossStateMachine.gd" id="3_6suth"]
[ext_resource type="Script" path="res://Scripts/Boss/PrisonGuard/B0_P1_Idle.gd" id="4_nfnxh"]
[ext_resource type="Script" path="res://Scripts/Boss/PrisonGuard/B0_P1_Attack.gd" id="5_dd0en"]
[ext_resource type="Script" path="res://Scripts/Boss/PrisonGuard/B0_Stun.gd" id="5_khlaa"]
[ext_resource type="Script" path="res://Scripts/Boss/PrisonGuard/B0_P2_Idle.gd" id="6_x0ye4"]
[ext_resource type="Script" path="res://Scripts/Boss/PrisonGuard/B0_P2_Attack.gd" id="7_omg5d"]
[ext_resource type="Script" path="res://Scripts/Boss/PrisonGuard/B0_P3_Idle.gd" id="8_k1ctw"]
[ext_resource type="Script" path="res://Scripts/Boss/PrisonGuard/B0_P3_Attack.gd" id="9_gycg1"]
[ext_resource type="Script" path="res://Scripts/Boss/PrisonGuard/B0_P4_Idle.gd" id="10_si2xg"]
[ext_resource type="Script" path="res://Scripts/Boss/PrisonGuard/B0_P4_Attack.gd" id="11_vrixn"]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_8h4gk"]
radius = 18.0
height = 72.0

[sub_resource type="AtlasTexture" id="AtlasTexture_bnell"]
atlas = ExtResource("2_2vm33")
region = Rect2(0, 0, 64, 64)

[sub_resource type="SpriteFrames" id="SpriteFrames_nlt6b"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_bnell")
}],
"loop": true,
"name": &"default",
"speed": 60.0
}]

[node name="PrisonGuard" type="CharacterBody2D" node_paths=PackedStringArray("state_machine", "body", "sprite")]
light_mask = 8
visibility_layer = 8
disable_mode = 1
collision_layer = 64
collision_mask = 36
floor_stop_on_slope = false
floor_constant_speed = true
floor_max_angle = 1.39626
floor_snap_length = 24.0
platform_floor_layers = 3
platform_wall_layers = 1
script = ExtResource("1_g1gba")
state_machine = NodePath("StateMachine")
total_health = 4
body = NodePath(".")
sprite = NodePath("AnimatedSprite2D")
introduction_text = Array[String](["Test Intro 1", "Test Intro 2", "Test Intro 3"])
battle_left_camera_limit = 512
battle_right_camera_limit = 1024
battle_bottom_camera_limit = 320
defeated_left_camera_limit = 512
defeated_right_camera_limit = 1792
defeated_bottom_camera_limit = 320

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0, -4)
shape = SubResource("CapsuleShape2D_8h4gk")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
light_mask = 8
visibility_layer = 8
z_index = 3
sprite_frames = SubResource("SpriteFrames_nlt6b")
flip_h = true

[node name="StateMachine" type="Node" parent="." node_paths=PackedStringArray("boss", "current_state")]
process_mode = 4
script = ExtResource("3_6suth")
boss = NodePath("..")
current_state = NodePath("PhaseOneIdle")

[node name="PhaseOneIdle" type="Node" parent="StateMachine"]
script = ExtResource("4_nfnxh")

[node name="StandstillFireballSpit" type="Node" parent="StateMachine"]
script = ExtResource("5_dd0en")

[node name="PhaseTwoIdle" type="Node" parent="StateMachine"]
script = ExtResource("6_x0ye4")

[node name="ShieldBash" type="Node" parent="StateMachine"]
script = ExtResource("7_omg5d")

[node name="PhaseThreeIdle" type="Node" parent="StateMachine"]
script = ExtResource("8_k1ctw")

[node name="OverheadFireballSpit" type="Node" parent="StateMachine"]
script = ExtResource("9_gycg1")

[node name="PhaseFourIdle" type="Node" parent="StateMachine"]
script = ExtResource("10_si2xg")

[node name="FlyingShieldBash" type="Node" parent="StateMachine"]
script = ExtResource("11_vrixn")

[node name="Stunned" type="Node" parent="StateMachine"]
script = ExtResource("5_khlaa")
